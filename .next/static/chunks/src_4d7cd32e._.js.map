{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/db/index.ts"],"sourcesContent":["import { openDB, DBSchema, IDBPDatabase } from 'idb'\nimport { User } from '@/types/auth'\nimport { Audit, Anomaly, MediaFile, AuditReport } from '@/types/audit'\n\ninterface TamaAuditorDB extends DBSchema {\n  users: {\n    key: string\n    value: User\n    indexes: { 'by-username': string }\n  }\n  audits: {\n    key: string\n    value: Audit\n    indexes: { \n      'by-auditor': string\n      'by-status': string\n      'by-date': Date\n    }\n  }\n  anomalies: {\n    key: string\n    value: Anomaly\n    indexes: { \n      'by-audit': string\n      'by-type': string\n      'by-severity': string\n    }\n  }\n  media: {\n    key: string\n    value: MediaFile\n    indexes: { 'by-audit': string }\n  }\n  reports: {\n    key: string\n    value: AuditReport\n    indexes: { 'by-audit': string }\n  }\n  settings: {\n    key: string\n    value: any\n  }\n  knowledge: {\n    key: string\n    value: any\n    indexes: { 'by-category': string }\n  }\n}\n\nclass DatabaseManager {\n  private db: IDBPDatabase<TamaAuditorDB> | null = null\n  private readonly DB_NAME = 'TamaAuditorDB'\n  private readonly DB_VERSION = 1\n\n  async init(): Promise<void> {\n    if (this.db) return\n\n    this.db = await openDB<TamaAuditorDB>(this.DB_NAME, this.DB_VERSION, {\n      upgrade(db) {\n        // Users store\n        if (!db.objectStoreNames.contains('users')) {\n          const userStore = db.createObjectStore('users', { keyPath: 'id' })\n          userStore.createIndex('by-username', 'username', { unique: true })\n        }\n\n        // Audits store\n        if (!db.objectStoreNames.contains('audits')) {\n          const auditStore = db.createObjectStore('audits', { keyPath: 'id' })\n          auditStore.createIndex('by-auditor', 'auditorId')\n          auditStore.createIndex('by-status', 'status')\n          auditStore.createIndex('by-date', 'createdAt')\n        }\n\n        // Anomalies store\n        if (!db.objectStoreNames.contains('anomalies')) {\n          const anomalyStore = db.createObjectStore('anomalies', { keyPath: 'id' })\n          anomalyStore.createIndex('by-audit', 'auditId')\n          anomalyStore.createIndex('by-type', 'type.category')\n          anomalyStore.createIndex('by-severity', 'severity')\n        }\n\n        // Media store\n        if (!db.objectStoreNames.contains('media')) {\n          const mediaStore = db.createObjectStore('media', { keyPath: 'id' })\n          mediaStore.createIndex('by-audit', 'auditId')\n        }\n\n        // Reports store\n        if (!db.objectStoreNames.contains('reports')) {\n          const reportStore = db.createObjectStore('reports', { keyPath: 'id' })\n          reportStore.createIndex('by-audit', 'auditId')\n        }\n\n        // Settings store\n        if (!db.objectStoreNames.contains('settings')) {\n          db.createObjectStore('settings', { keyPath: 'key' })\n        }\n\n        // Knowledge base store\n        if (!db.objectStoreNames.contains('knowledge')) {\n          const knowledgeStore = db.createObjectStore('knowledge', { keyPath: 'id' })\n          knowledgeStore.createIndex('by-category', 'category')\n        }\n      },\n    })\n\n    // Initialize default data\n    await this.initializeDefaultData()\n  }\n\n  private async initializeDefaultData(): Promise<void> {\n    if (!this.db) return\n\n    // Check if default technician user exists\n    const existingTechnician = await this.db.getFromIndex('users', 'by-username', 'technician')\n    \n    if (!existingTechnician) {\n      // Create default technician user\n      const technicianUser: User = {\n        id: 'tech-001',\n        username: 'technician',\n        role: 'technician',\n        name: 'Technicien Principal',\n        email: 'tech@tamaauditor.com',\n        createdAt: new Date(),\n      }\n      \n      await this.db.add('users', technicianUser)\n      \n      // Store technician master password (in real app, this should be hashed)\n      await this.db.put('settings', {\n        key: 'technician_password',\n        value: 'TamaAuditor2024!', // Default master password\n      })\n    }\n\n    // Initialize knowledge base if empty\n    const knowledgeCount = await this.db.count('knowledge')\n    if (knowledgeCount === 0) {\n      await this.initializeKnowledgeBase()\n    }\n  }\n\n  private async initializeKnowledgeBase(): Promise<void> {\n    if (!this.db) return\n\n    const knowledgeData = [\n      {\n        id: 'crack-structural',\n        category: 'structural',\n        type: 'Fissure structurelle',\n        description: 'Fissure dans les murs, plafonds ou fondations',\n        causes: ['Tassement du sol', 'Dilatation thermique', 'Surcharge structurelle'],\n        actions: ['Évaluation par ingénieur structure', 'Surveillance évolution', 'Réparation si nécessaire'],\n        severity: 'major',\n        estimatedTime: 24,\n      },\n      {\n        id: 'mold-environmental',\n        category: 'environmental',\n        type: 'Moisissure',\n        description: 'Présence de moisissures sur les surfaces',\n        causes: ['Humidité excessive', 'Ventilation insuffisante', 'Infiltration d\\'eau'],\n        actions: ['Traitement antifongique', 'Amélioration ventilation', 'Réparation source humidité'],\n        severity: 'major',\n        estimatedTime: 8,\n      },\n      {\n        id: 'electrical-exposed',\n        category: 'electrical',\n        type: 'Câble électrique exposé',\n        description: 'Câblage électrique non protégé ou endommagé',\n        causes: ['Usure normale', 'Installation défectueuse', 'Dommage mécanique'],\n        actions: ['Intervention électricien immédiate', 'Mise hors tension', 'Remplacement câblage'],\n        severity: 'critical',\n        estimatedTime: 4,\n      },\n    ]\n\n    for (const item of knowledgeData) {\n      await this.db.add('knowledge', item)\n    }\n  }\n\n  // User operations\n  async createUser(user: User): Promise<void> {\n    if (!this.db) await this.init()\n    await this.db!.add('users', user)\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    if (!this.db) await this.init()\n    return await this.db!.getFromIndex('users', 'by-username', username)\n  }\n\n  async updateUser(user: User): Promise<void> {\n    if (!this.db) await this.init()\n    await this.db!.put('users', user)\n  }\n\n  // Audit operations\n  async createAudit(audit: Audit): Promise<void> {\n    if (!this.db) await this.init()\n    await this.db!.add('audits', audit)\n  }\n\n  async getAudit(id: string): Promise<Audit | undefined> {\n    if (!this.db) await this.init()\n    return await this.db!.get('audits', id)\n  }\n\n  async updateAudit(audit: Audit): Promise<void> {\n    if (!this.db) await this.init()\n    await this.db!.put('audits', audit)\n  }\n\n  async getAuditsByAuditor(auditorId: string): Promise<Audit[]> {\n    if (!this.db) await this.init()\n    return await this.db!.getAllFromIndex('audits', 'by-auditor', auditorId)\n  }\n\n  async getAllAudits(): Promise<Audit[]> {\n    if (!this.db) await this.init()\n    return await this.db!.getAll('audits')\n  }\n\n  // Anomaly operations\n  async createAnomaly(anomaly: Anomaly): Promise<void> {\n    if (!this.db) await this.init()\n    await this.db!.add('anomalies', anomaly)\n  }\n\n  async getAnomaliesByAudit(auditId: string): Promise<Anomaly[]> {\n    if (!this.db) await this.init()\n    return await this.db!.getAllFromIndex('anomalies', 'by-audit', auditId)\n  }\n\n  async updateAnomaly(anomaly: Anomaly): Promise<void> {\n    if (!this.db) await this.init()\n    await this.db!.put('anomalies', anomaly)\n  }\n\n  // Media operations\n  async saveMedia(media: MediaFile): Promise<void> {\n    if (!this.db) await this.init()\n    await this.db!.add('media', media)\n  }\n\n  async getMediaByAudit(auditId: string): Promise<MediaFile[]> {\n    if (!this.db) await this.init()\n    return await this.db!.getAllFromIndex('media', 'by-audit', auditId)\n  }\n\n  // Settings operations\n  async getSetting(key: string): Promise<any> {\n    if (!this.db) await this.init()\n    const result = await this.db!.get('settings', key)\n    return result?.value\n  }\n\n  async setSetting(key: string, value: any): Promise<void> {\n    if (!this.db) await this.init()\n    await this.db!.put('settings', { key, value })\n  }\n\n  // Knowledge base operations\n  async getKnowledgeByCategory(category: string): Promise<any[]> {\n    if (!this.db) await this.init()\n    return await this.db!.getAllFromIndex('knowledge', 'by-category', category)\n  }\n\n  async getAllKnowledge(): Promise<any[]> {\n    if (!this.db) await this.init()\n    return await this.db!.getAll('knowledge')\n  }\n\n  // Cleanup and maintenance\n  async clearAllData(): Promise<void> {\n    if (!this.db) await this.init()\n    const stores = ['users', 'audits', 'anomalies', 'media', 'reports', 'settings', 'knowledge']\n    \n    for (const store of stores) {\n      await this.db!.clear(store as any)\n    }\n    \n    await this.initializeDefaultData()\n  }\n\n  async exportData(): Promise<any> {\n    if (!this.db) await this.init()\n    \n    const data = {\n      users: await this.db!.getAll('users'),\n      audits: await this.db!.getAll('audits'),\n      anomalies: await this.db!.getAll('anomalies'),\n      media: await this.db!.getAll('media'),\n      reports: await this.db!.getAll('reports'),\n      settings: await this.db!.getAll('settings'),\n      knowledge: await this.db!.getAll('knowledge'),\n      exportedAt: new Date().toISOString(),\n    }\n    \n    return data\n  }\n}\n\n// Singleton instance\nexport const db = new DatabaseManager()\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/auth.ts"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { User, LoginCredentials, AuthState } from '@/types/auth'\nimport { db } from '@/lib/db'\n\nclass AuthService {\n  private static instance: AuthService\n  private authState: AuthState = {\n    user: null,\n    isAuthenticated: false,\n    isLoading: true,\n  }\n  private listeners: ((state: AuthState) => void)[] = []\n\n  static getInstance(): AuthService {\n    if (!AuthService.instance) {\n      AuthService.instance = new AuthService()\n    }\n    return AuthService.instance\n  }\n\n  private constructor() {\n    this.initializeAuth()\n  }\n\n  private async initializeAuth(): Promise<void> {\n    try {\n      const storedUser = localStorage.getItem('tama_auditor_user')\n      if (storedUser) {\n        const user = JSON.parse(storedUser)\n        this.authState = {\n          user,\n          isAuthenticated: true,\n          isLoading: false,\n        }\n      } else {\n        this.authState.isLoading = false\n      }\n    } catch (error) {\n      console.error('Error initializing auth:', error)\n      this.authState.isLoading = false\n    }\n    \n    this.notifyListeners()\n  }\n\n  subscribe(listener: (state: AuthState) => void): () => void {\n    this.listeners.push(listener)\n    return () => {\n      this.listeners = this.listeners.filter(l => l !== listener)\n    }\n  }\n\n  private notifyListeners(): void {\n    this.listeners.forEach(listener => listener(this.authState))\n  }\n\n  getAuthState(): AuthState {\n    return this.authState\n  }\n\n  async login(credentials: LoginCredentials): Promise<{ success: boolean; error?: string }> {\n    try {\n      this.authState.isLoading = true\n      this.notifyListeners()\n\n      if (credentials.username === 'technician') {\n        const masterPassword = await db.getSetting('technician_password')\n        if (credentials.password === masterPassword) {\n          const techUser = await db.getUserByUsername('technician')\n          if (techUser) {\n            await this.setAuthenticatedUser(techUser)\n            return { success: true }\n          }\n        }\n        return { success: false, error: 'Mot de passe technicien incorrect' }\n      }\n\n      const user = await db.getUserByUsername(credentials.username)\n      if (!user) {\n        return { success: false, error: 'Utilisateur non trouvé' }\n      }\n\n      const storedPassword = await db.getSetting(`user_password_${user.id}`)\n      if (storedPassword !== credentials.password) {\n        return { success: false, error: 'Mot de passe incorrect' }\n      }\n\n      user.lastLogin = new Date()\n      await db.updateUser(user)\n      await this.setAuthenticatedUser(user)\n      return { success: true }\n\n    } catch (error) {\n      console.error('Login error:', error)\n      return { success: false, error: 'Erreur de connexion' }\n    } finally {\n      this.authState.isLoading = false\n      this.notifyListeners()\n    }\n  }\n\n  async register(userData: {\n    username: string\n    password: string\n    name: string\n    email?: string\n  }): Promise<{ success: boolean; error?: string }> {\n    try {\n      const existingUser = await db.getUserByUsername(userData.username)\n      if (existingUser) {\n        return { success: false, error: 'Nom d\\'utilisateur déjà utilisé' }\n      }\n\n      const newUser: User = {\n        id: `user_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        username: userData.username,\n        role: 'auditor',\n        name: userData.name,\n        email: userData.email,\n        createdAt: new Date(),\n      }\n\n      await db.createUser(newUser)\n      await db.setSetting(`user_password_${newUser.id}`, userData.password)\n      return { success: true }\n\n    } catch (error) {\n      console.error('Registration error:', error)\n      return { success: false, error: 'Erreur lors de la création du compte' }\n    }\n  }\n\n  private async setAuthenticatedUser(user: User): Promise<void> {\n    this.authState = {\n      user,\n      isAuthenticated: true,\n      isLoading: false,\n    }\n\n    localStorage.setItem('tama_auditor_user', JSON.stringify(user))\n    this.notifyListeners()\n  }\n\n  async logout(): Promise<void> {\n    this.authState = {\n      user: null,\n      isAuthenticated: false,\n      isLoading: false,\n    }\n\n    localStorage.removeItem('tama_auditor_user')\n    this.notifyListeners()\n  }\n\n  getCurrentUser(): User | null {\n    return this.authState.user\n  }\n\n  isAuthenticated(): boolean {\n    return this.authState.isAuthenticated\n  }\n\n  isTechnician(): boolean {\n    return this.authState.user?.role === 'technician'\n  }\n}\n\nexport const authService = AuthService.getInstance()\n\nexport function useAuth() {\n  const [authState, setAuthState] = React.useState<AuthState>(authService.getAuthState())\n\n  React.useEffect(() => {\n    const unsubscribe = authService.subscribe(setAuthState)\n    return unsubscribe\n  }, [])\n\n  return {\n    ...authState,\n    login: authService.login.bind(authService),\n    logout: authService.logout.bind(authService),\n    register: authService.register.bind(authService),\n    isTechnician: authService.isTechnician.bind(authService),\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 565, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 597, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,oKAAA,CAAA,OAAmB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 631, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 746, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-card text-card-foreground\",\n        destructive:\n          \"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        \"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,6LAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAbS;AAeT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS","debugId":null}},
    {"offset": {"line": 821, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,mKAAA,CAAA,OAAkB;QACjB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,mKAAA,CAAA,OAAkB;QACjB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,mKAAA,CAAA,UAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,mKAAA,CAAA,UAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 897, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/auth/LoginForm.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Alert, AlertDescription } from '@/components/ui/alert'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { useAuth } from '@/lib/auth'\nimport Image from 'next/image'\n\nexport default function LoginForm() {\n  const { login, register, isLoading } = useAuth()\n  const [loginData, setLoginData] = useState({ username: '', password: '' })\n  const [registerData, setRegisterData] = useState({\n    username: '',\n    password: '',\n    confirmPassword: '',\n    name: '',\n    email: '',\n  })\n  const [error, setError] = useState('')\n  const [success, setSuccess] = useState('')\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    \n    if (!loginData.username || !loginData.password) {\n      setError('Veuillez remplir tous les champs')\n      return\n    }\n\n    const result = await login(loginData)\n    if (!result.success) {\n      setError(result.error || 'Erreur de connexion')\n    }\n  }\n\n  const handleRegister = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError('')\n    setSuccess('')\n    \n    if (!registerData.username || !registerData.password || !registerData.name) {\n      setError('Veuillez remplir tous les champs obligatoires')\n      return\n    }\n\n    if (registerData.password !== registerData.confirmPassword) {\n      setError('Les mots de passe ne correspondent pas')\n      return\n    }\n\n    if (registerData.password.length < 6) {\n      setError('Le mot de passe doit contenir au moins 6 caractères')\n      return\n    }\n\n    const result = await register({\n      username: registerData.username,\n      password: registerData.password,\n      name: registerData.name,\n      email: registerData.email,\n    })\n\n    if (result.success) {\n      setSuccess('Compte créé avec succès ! Vous pouvez maintenant vous connecter.')\n      setRegisterData({\n        username: '',\n        password: '',\n        confirmPassword: '',\n        name: '',\n        email: '',\n      })\n    } else {\n      setError(result.error || 'Erreur lors de la création du compte')\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"text-center\">\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"w-20 h-24 relative\">\n              <Image\n                src=\"/egg-logo.svg\"\n                alt=\"Tama Auditor Logo\"\n                width={64}\n                height={80}\n                className=\"w-full h-full\"\n              />\n            </div>\n          </div>\n          <CardTitle className=\"text-2xl font-bold\">Tama Auditor</CardTitle>\n          <CardDescription>\n            Application d'audit terrain 100% hors-ligne\n          </CardDescription>\n        </CardHeader>\n        \n        <CardContent>\n          <Tabs defaultValue=\"login\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"login\">Connexion</TabsTrigger>\n              <TabsTrigger value=\"register\">Inscription</TabsTrigger>\n            </TabsList>\n            \n            <TabsContent value=\"login\">\n              <form onSubmit={handleLogin} className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"username\">Nom d'utilisateur</Label>\n                  <Input\n                    id=\"username\"\n                    type=\"text\"\n                    placeholder=\"Entrez votre nom d'utilisateur\"\n                    value={loginData.username}\n                    onChange={(e) => setLoginData({ ...loginData, username: e.target.value })}\n                    disabled={isLoading}\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"password\">Mot de passe</Label>\n                  <Input\n                    id=\"password\"\n                    type=\"password\"\n                    placeholder=\"Entrez votre mot de passe\"\n                    value={loginData.password}\n                    onChange={(e) => setLoginData({ ...loginData, password: e.target.value })}\n                    disabled={isLoading}\n                  />\n                </div>\n\n                {error && (\n                  <Alert variant=\"destructive\">\n                    <AlertDescription>{error}</AlertDescription>\n                  </Alert>\n                )}\n\n                <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n                  {isLoading ? 'Connexion...' : 'Se connecter'}\n                </Button>\n              </form>\n\n              <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\n                <h4 className=\"font-semibold text-sm text-blue-900 mb-2\">\n                  Accès Technicien\n                </h4>\n                <p className=\"text-xs text-blue-700\">\n                  Utilisateur: <code className=\"bg-blue-100 px-1 rounded\">technician</code>\n                </p>\n                <p className=\"text-xs text-blue-700\">\n                  Mot de passe par défaut: <code className=\"bg-blue-100 px-1 rounded\">TamaAuditor2024!</code>\n                </p>\n              </div>\n            </TabsContent>\n            \n            <TabsContent value=\"register\">\n              <form onSubmit={handleRegister} className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"reg-name\">Nom complet *</Label>\n                  <Input\n                    id=\"reg-name\"\n                    type=\"text\"\n                    placeholder=\"Votre nom complet\"\n                    value={registerData.name}\n                    onChange={(e) => setRegisterData({ ...registerData, name: e.target.value })}\n                    disabled={isLoading}\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"reg-username\">Nom d'utilisateur *</Label>\n                  <Input\n                    id=\"reg-username\"\n                    type=\"text\"\n                    placeholder=\"Choisissez un nom d'utilisateur\"\n                    value={registerData.username}\n                    onChange={(e) => setRegisterData({ ...registerData, username: e.target.value })}\n                    disabled={isLoading}\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"reg-email\">Email</Label>\n                  <Input\n                    id=\"reg-email\"\n                    type=\"email\"\n                    placeholder=\"votre@email.com\"\n                    value={registerData.email}\n                    onChange={(e) => setRegisterData({ ...registerData, email: e.target.value })}\n                    disabled={isLoading}\n                  />\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"reg-password\">Mot de passe *</Label>\n                  <Input\n                    id=\"reg-password\"\n                    type=\"password\"\n                    placeholder=\"Au moins 6 caractères\"\n                    value={registerData.password}\n                    onChange={(e) => setRegisterData({ ...registerData, password: e.target.value })}\n                    disabled={isLoading}\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"reg-confirm\">Confirmer le mot de passe *</Label>\n                  <Input\n                    id=\"reg-confirm\"\n                    type=\"password\"\n                    placeholder=\"Répétez le mot de passe\"\n                    value={registerData.confirmPassword}\n                    onChange={(e) => setRegisterData({ ...registerData, confirmPassword: e.target.value })}\n                    disabled={isLoading}\n                  />\n                </div>\n\n                {error && (\n                  <Alert variant=\"destructive\">\n                    <AlertDescription>{error}</AlertDescription>\n                  </Alert>\n                )}\n\n                {success && (\n                  <Alert>\n                    <AlertDescription className=\"text-green-700\">{success}</AlertDescription>\n                  </Alert>\n                )}\n\n                <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\n                  {isLoading ? 'Création...' : 'Créer le compte'}\n                </Button>\n              </form>\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1484, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS","debugId":null}},
    {"offset": {"line": 1536, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/dashboard/Dashboard.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { useAuth } from '@/lib/auth'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { db } from '@/lib/db'\nimport { Audit, Anomaly } from '@/types/audit'\nimport Image from 'next/image'\n\nexport default function Dashboard() {\n  const { user, logout, isTechnician } = useAuth()\n  const [audits, setAudits] = useState<Audit[]>([])\n  const [recentAnomalies, setRecentAnomalies] = useState<Anomaly[]>([])\n  const [stats, setStats] = useState({\n    totalAudits: 0,\n    completedAudits: 0,\n    pendingAnomalies: 0,\n    criticalAnomalies: 0,\n  })\n\n  useEffect(() => {\n    loadDashboardData()\n  }, [user])\n\n  const loadDashboardData = async () => {\n    if (!user) return\n\n    try {\n      // Load audits\n      const userAudits = isTechnician() \n        ? await db.getAllAudits()\n        : await db.getAuditsByAuditor(user.id)\n      \n      setAudits(userAudits.slice(0, 5)) // Show only recent 5\n\n      // Calculate stats\n      const totalAudits = userAudits.length\n      const completedAudits = userAudits.filter(a => a.status === 'completed').length\n\n      // Load anomalies for stats\n      const allAnomalies: Anomaly[] = []\n      for (const audit of userAudits) {\n        const auditAnomalies = await db.getAnomaliesByAudit(audit.id)\n        allAnomalies.push(...auditAnomalies)\n      }\n\n      const pendingAnomalies = allAnomalies.filter(a => a.correctionStatus === 'pending').length\n      const criticalAnomalies = allAnomalies.filter(a => a.severity === 'critical').length\n\n      setStats({\n        totalAudits,\n        completedAudits,\n        pendingAnomalies,\n        criticalAnomalies,\n      })\n\n      // Set recent anomalies\n      setRecentAnomalies(\n        allAnomalies\n          .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n          .slice(0, 5)\n      )\n\n    } catch (error) {\n      console.error('Error loading dashboard data:', error)\n    }\n  }\n\n  const handleLogout = async () => {\n    await logout()\n  }\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case 'critical': return 'bg-red-500'\n      case 'major': return 'bg-orange-500'\n      case 'minor': return 'bg-yellow-500'\n      default: return 'bg-gray-500'\n    }\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'completed': return 'bg-green-500'\n      case 'in_progress': return 'bg-blue-500'\n      case 'draft': return 'bg-gray-500'\n      default: return 'bg-gray-500'\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center space-x-3\">\n              <Image\n                src=\"/egg-logo.svg\"\n                alt=\"Tama Auditor\"\n                width={32}\n                height={40}\n                className=\"w-8 h-10\"\n              />\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900\">Tama Auditor</h1>\n                <p className=\"text-sm text-gray-500\">\n                  Bienvenue, {user?.name}\n                  {isTechnician() && (\n                    <Badge variant=\"secondary\" className=\"ml-2\">Technicien</Badge>\n                  )}\n                </p>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-4\">\n              <Button variant=\"outline\" size=\"sm\" onClick={handleLogout}>\n                Déconnexion\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Total Audits</CardTitle>\n              <div className=\"h-4 w-4 text-muted-foreground\">📋</div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{stats.totalAudits}</div>\n              <p className=\"text-xs text-muted-foreground\">\n                {stats.completedAudits} terminés\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Audits Terminés</CardTitle>\n              <div className=\"h-4 w-4 text-muted-foreground\">✅</div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{stats.completedAudits}</div>\n              <p className=\"text-xs text-muted-foreground\">\n                {stats.totalAudits > 0 ? Math.round((stats.completedAudits / stats.totalAudits) * 100) : 0}% du total\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Anomalies en Attente</CardTitle>\n              <div className=\"h-4 w-4 text-muted-foreground\">⚠️</div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{stats.pendingAnomalies}</div>\n              <p className=\"text-xs text-muted-foreground\">\n                À corriger\n              </p>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Anomalies Critiques</CardTitle>\n              <div className=\"h-4 w-4 text-muted-foreground\">🚨</div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold text-red-600\">{stats.criticalAnomalies}</div>\n              <p className=\"text-xs text-muted-foreground\">\n                Intervention urgente\n              </p>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n          <Button className=\"h-20 flex flex-col items-center justify-center space-y-2\">\n            <span className=\"text-2xl\">📝</span>\n            <span>Nouvel Audit</span>\n          </Button>\n          \n          <Button variant=\"outline\" className=\"h-20 flex flex-col items-center justify-center space-y-2\">\n            <span className=\"text-2xl\">📸</span>\n            <span>Capture Rapide</span>\n          </Button>\n          \n          <Button variant=\"outline\" className=\"h-20 flex flex-col items-center justify-center space-y-2\">\n            <span className=\"text-2xl\">📊</span>\n            <span>Rapports</span>\n          </Button>\n          \n          <Button variant=\"outline\" className=\"h-20 flex flex-col items-center justify-center space-y-2\">\n            <span className=\"text-2xl\">📚</span>\n            <span>Base de Connaissances</span>\n          </Button>\n        </div>\n\n        {/* Recent Activity */}\n        <Tabs defaultValue=\"audits\" className=\"space-y-4\">\n          <TabsList>\n            <TabsTrigger value=\"audits\">Audits Récents</TabsTrigger>\n            <TabsTrigger value=\"anomalies\">Anomalies Récentes</TabsTrigger>\n          </TabsList>\n          \n          <TabsContent value=\"audits\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Audits Récents</CardTitle>\n                <CardDescription>\n                  Vos derniers audits en cours et terminés\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {audits.length === 0 ? (\n                  <div className=\"text-center py-8 text-gray-500\">\n                    <p>Aucun audit trouvé</p>\n                    <Button className=\"mt-4\">Créer votre premier audit</Button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {audits.map((audit) => (\n                      <div key={audit.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-medium\">{audit.title}</h3>\n                          <p className=\"text-sm text-gray-500\">{audit.location}</p>\n                          <p className=\"text-xs text-gray-400\">\n                            {new Date(audit.createdAt).toLocaleDateString('fr-FR')}\n                          </p>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <Badge className={getStatusColor(audit.status)}>\n                            {audit.status}\n                          </Badge>\n                          <span className=\"text-sm text-gray-500\">\n                            {audit.anomalies?.length || 0} anomalies\n                          </span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n          \n          <TabsContent value=\"anomalies\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Anomalies Récentes</CardTitle>\n                <CardDescription>\n                  Dernières anomalies détectées nécessitant une attention\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                {recentAnomalies.length === 0 ? (\n                  <div className=\"text-center py-8 text-gray-500\">\n                    <p>Aucune anomalie récente</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {recentAnomalies.map((anomaly) => (\n                      <div key={anomaly.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                        <div className=\"flex-1\">\n                          <h3 className=\"font-medium\">{anomaly.title}</h3>\n                          <p className=\"text-sm text-gray-500\">{anomaly.location}</p>\n                          <p className=\"text-xs text-gray-400\">\n                            {new Date(anomaly.createdAt).toLocaleDateString('fr-FR')}\n                          </p>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <Badge className={getSeverityColor(anomaly.severity)}>\n                            {anomaly.severity}\n                          </Badge>\n                          <Badge variant=\"outline\">\n                            {anomaly.correctionStatus}\n                          </Badge>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAVA;;;;;;;;;AAYe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,qHAAA,CAAA,UAAO,AAAD;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAChD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QACjC,aAAa;QACb,iBAAiB;QACjB,kBAAkB;QAClB,mBAAmB;IACrB;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR;QACF;8BAAG;QAAC;KAAK;IAET,MAAM,oBAAoB;QACxB,IAAI,CAAC,MAAM;QAEX,IAAI;YACF,cAAc;YACd,MAAM,aAAa,iBACf,MAAM,4HAAA,CAAA,KAAE,CAAC,YAAY,KACrB,MAAM,4HAAA,CAAA,KAAE,CAAC,kBAAkB,CAAC,KAAK,EAAE;YAEvC,UAAU,WAAW,KAAK,CAAC,GAAG,IAAI,qBAAqB;;YAEvD,kBAAkB;YAClB,MAAM,cAAc,WAAW,MAAM;YACrC,MAAM,kBAAkB,WAAW,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,aAAa,MAAM;YAE/E,2BAA2B;YAC3B,MAAM,eAA0B,EAAE;YAClC,KAAK,MAAM,SAAS,WAAY;gBAC9B,MAAM,iBAAiB,MAAM,4HAAA,CAAA,KAAE,CAAC,mBAAmB,CAAC,MAAM,EAAE;gBAC5D,aAAa,IAAI,IAAI;YACvB;YAEA,MAAM,mBAAmB,aAAa,MAAM,CAAC,CAAA,IAAK,EAAE,gBAAgB,KAAK,WAAW,MAAM;YAC1F,MAAM,oBAAoB,aAAa,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,YAAY,MAAM;YAEpF,SAAS;gBACP;gBACA;gBACA;gBACA;YACF;YAEA,uBAAuB;YACvB,mBACE,aACG,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,IAC9E,KAAK,CAAC,GAAG;QAGhB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD;IACF;IAEA,MAAM,eAAe;QACnB,MAAM;IACR;IAEA,MAAM,mBAAmB,CAAC;QACxB,OAAQ;YACN,KAAK;gBAAY,OAAO;YACxB,KAAK;gBAAS,OAAO;YACrB,KAAK;gBAAS,OAAO;YACrB;gBAAS,OAAO;QAClB;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBAAa,OAAO;YACzB,KAAK;gBAAe,OAAO;YAC3B,KAAK;gBAAS,OAAO;YACrB;gBAAS,OAAO;QAClB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAO,WAAU;0BAChB,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,gIAAA,CAAA,UAAK;wCACJ,KAAI;wCACJ,KAAI;wCACJ,OAAO;wCACP,QAAQ;wCACR,WAAU;;;;;;kDAEZ,6LAAC;;0DACC,6LAAC;gDAAG,WAAU;0DAAkC;;;;;;0DAChD,6LAAC;gDAAE,WAAU;;oDAAwB;oDACvB,MAAM;oDACjB,gCACC,6LAAC,oIAAA,CAAA,QAAK;wDAAC,SAAQ;wDAAY,WAAU;kEAAO;;;;;;;;;;;;;;;;;;;;;;;;0CAMpD,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,qIAAA,CAAA,SAAM;oCAAC,SAAQ;oCAAU,MAAK;oCAAK,SAAS;8CAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;0BASnE,6LAAC;gBAAK,WAAU;;kCAEd,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,mIAAA,CAAA,OAAI;;kDACH,6LAAC,mIAAA,CAAA,aAAU;wCAAC,WAAU;;0DACpB,6LAAC,mIAAA,CAAA,YAAS;gDAAC,WAAU;0DAAsB;;;;;;0DAC3C,6LAAC;gDAAI,WAAU;0DAAgC;;;;;;;;;;;;kDAEjD,6LAAC,mIAAA,CAAA,cAAW;;0DACV,6LAAC;gDAAI,WAAU;0DAAsB,MAAM,WAAW;;;;;;0DACtD,6LAAC;gDAAE,WAAU;;oDACV,MAAM,eAAe;oDAAC;;;;;;;;;;;;;;;;;;;0CAK7B,6LAAC,mIAAA,CAAA,OAAI;;kDACH,6LAAC,mIAAA,CAAA,aAAU;wCAAC,WAAU;;0DACpB,6LAAC,mIAAA,CAAA,YAAS;gDAAC,WAAU;0DAAsB;;;;;;0DAC3C,6LAAC;gDAAI,WAAU;0DAAgC;;;;;;;;;;;;kDAEjD,6LAAC,mIAAA,CAAA,cAAW;;0DACV,6LAAC;gDAAI,WAAU;0DAAsB,MAAM,eAAe;;;;;;0DAC1D,6LAAC;gDAAE,WAAU;;oDACV,MAAM,WAAW,GAAG,IAAI,KAAK,KAAK,CAAC,AAAC,MAAM,eAAe,GAAG,MAAM,WAAW,GAAI,OAAO;oDAAE;;;;;;;;;;;;;;;;;;;0CAKjG,6LAAC,mIAAA,CAAA,OAAI;;kDACH,6LAAC,mIAAA,CAAA,aAAU;wCAAC,WAAU;;0DACpB,6LAAC,mIAAA,CAAA,YAAS;gDAAC,WAAU;0DAAsB;;;;;;0DAC3C,6LAAC;gDAAI,WAAU;0DAAgC;;;;;;;;;;;;kDAEjD,6LAAC,mIAAA,CAAA,cAAW;;0DACV,6LAAC;gDAAI,WAAU;0DAAsB,MAAM,gBAAgB;;;;;;0DAC3D,6LAAC;gDAAE,WAAU;0DAAgC;;;;;;;;;;;;;;;;;;0CAMjD,6LAAC,mIAAA,CAAA,OAAI;;kDACH,6LAAC,mIAAA,CAAA,aAAU;wCAAC,WAAU;;0DACpB,6LAAC,mIAAA,CAAA,YAAS;gDAAC,WAAU;0DAAsB;;;;;;0DAC3C,6LAAC;gDAAI,WAAU;0DAAgC;;;;;;;;;;;;kDAEjD,6LAAC,mIAAA,CAAA,cAAW;;0DACV,6LAAC;gDAAI,WAAU;0DAAmC,MAAM,iBAAiB;;;;;;0DACzE,6LAAC;gDAAE,WAAU;0DAAgC;;;;;;;;;;;;;;;;;;;;;;;;kCAQnD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,qIAAA,CAAA,SAAM;gCAAC,WAAU;;kDAChB,6LAAC;wCAAK,WAAU;kDAAW;;;;;;kDAC3B,6LAAC;kDAAK;;;;;;;;;;;;0CAGR,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAU,WAAU;;kDAClC,6LAAC;wCAAK,WAAU;kDAAW;;;;;;kDAC3B,6LAAC;kDAAK;;;;;;;;;;;;0CAGR,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAU,WAAU;;kDAClC,6LAAC;wCAAK,WAAU;kDAAW;;;;;;kDAC3B,6LAAC;kDAAK;;;;;;;;;;;;0CAGR,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAU,WAAU;;kDAClC,6LAAC;wCAAK,WAAU;kDAAW;;;;;;kDAC3B,6LAAC;kDAAK;;;;;;;;;;;;;;;;;;kCAKV,6LAAC,mIAAA,CAAA,OAAI;wBAAC,cAAa;wBAAS,WAAU;;0CACpC,6LAAC,mIAAA,CAAA,WAAQ;;kDACP,6LAAC,mIAAA,CAAA,cAAW;wCAAC,OAAM;kDAAS;;;;;;kDAC5B,6LAAC,mIAAA,CAAA,cAAW;wCAAC,OAAM;kDAAY;;;;;;;;;;;;0CAGjC,6LAAC,mIAAA,CAAA,cAAW;gCAAC,OAAM;gCAAS,WAAU;0CACpC,cAAA,6LAAC,mIAAA,CAAA,OAAI;;sDACH,6LAAC,mIAAA,CAAA,aAAU;;8DACT,6LAAC,mIAAA,CAAA,YAAS;8DAAC;;;;;;8DACX,6LAAC,mIAAA,CAAA,kBAAe;8DAAC;;;;;;;;;;;;sDAInB,6LAAC,mIAAA,CAAA,cAAW;sDACT,OAAO,MAAM,KAAK,kBACjB,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;kEAAE;;;;;;kEACH,6LAAC,qIAAA,CAAA,SAAM;wDAAC,WAAU;kEAAO;;;;;;;;;;;qEAG3B,6LAAC;gDAAI,WAAU;0DACZ,OAAO,GAAG,CAAC,CAAC,sBACX,6LAAC;wDAAmB,WAAU;;0EAC5B,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAG,WAAU;kFAAe,MAAM,KAAK;;;;;;kFACxC,6LAAC;wEAAE,WAAU;kFAAyB,MAAM,QAAQ;;;;;;kFACpD,6LAAC;wEAAE,WAAU;kFACV,IAAI,KAAK,MAAM,SAAS,EAAE,kBAAkB,CAAC;;;;;;;;;;;;0EAGlD,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,oIAAA,CAAA,QAAK;wEAAC,WAAW,eAAe,MAAM,MAAM;kFAC1C,MAAM,MAAM;;;;;;kFAEf,6LAAC;wEAAK,WAAU;;4EACb,MAAM,SAAS,EAAE,UAAU;4EAAE;;;;;;;;;;;;;;uDAb1B,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;0CAwB9B,6LAAC,mIAAA,CAAA,cAAW;gCAAC,OAAM;gCAAY,WAAU;0CACvC,cAAA,6LAAC,mIAAA,CAAA,OAAI;;sDACH,6LAAC,mIAAA,CAAA,aAAU;;8DACT,6LAAC,mIAAA,CAAA,YAAS;8DAAC;;;;;;8DACX,6LAAC,mIAAA,CAAA,kBAAe;8DAAC;;;;;;;;;;;;sDAInB,6LAAC,mIAAA,CAAA,cAAW;sDACT,gBAAgB,MAAM,KAAK,kBAC1B,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;8DAAE;;;;;;;;;;qEAGL,6LAAC;gDAAI,WAAU;0DACZ,gBAAgB,GAAG,CAAC,CAAC,wBACpB,6LAAC;wDAAqB,WAAU;;0EAC9B,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAG,WAAU;kFAAe,QAAQ,KAAK;;;;;;kFAC1C,6LAAC;wEAAE,WAAU;kFAAyB,QAAQ,QAAQ;;;;;;kFACtD,6LAAC;wEAAE,WAAU;kFACV,IAAI,KAAK,QAAQ,SAAS,EAAE,kBAAkB,CAAC;;;;;;;;;;;;0EAGpD,6LAAC;gEAAI,WAAU;;kFACb,6LAAC,oIAAA,CAAA,QAAK;wEAAC,WAAW,iBAAiB,QAAQ,QAAQ;kFAChD,QAAQ,QAAQ;;;;;;kFAEnB,6LAAC,oIAAA,CAAA,QAAK;wEAAC,SAAQ;kFACZ,QAAQ,gBAAgB;;;;;;;;;;;;;uDAbrB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2B1C;GA9RwB;;QACiB,qHAAA,CAAA,UAAO;;;KADxB","debugId":null}},
    {"offset": {"line": 2426, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/page.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect } from 'react'\nimport { useAuth } from '@/lib/auth'\nimport LoginForm from '@/components/auth/LoginForm'\nimport Dashboard from '@/components/dashboard/Dashboard'\nimport { db } from '@/lib/db'\n\nexport default function HomePage() {\n  const { isAuthenticated, isLoading } = useAuth()\n\n  useEffect(() => {\n    // Initialize database when app loads\n    db.init().catch(console.error)\n  }, [])\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-20 mx-auto mb-4\">\n            <img src=\"/egg-logo.svg\" alt=\"Tama Auditor\" className=\"w-full h-full\" />\n          </div>\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto\"></div>\n          <p className=\"mt-2 text-gray-600\">Chargement...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (!isAuthenticated) {\n    return <LoginForm />\n  }\n\n  return <Dashboard />\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,qHAAA,CAAA,UAAO,AAAD;IAE7C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR,qCAAqC;YACrC,4HAAA,CAAA,KAAE,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,KAAK;QAC/B;6BAAG,EAAE;IAEL,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,KAAI;4BAAgB,KAAI;4BAAe,WAAU;;;;;;;;;;;kCAExD,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,IAAI,CAAC,iBAAiB;QACpB,qBAAO,6LAAC,0IAAA,CAAA,UAAS;;;;;IACnB;IAEA,qBAAO,6LAAC,+IAAA,CAAA,UAAS;;;;;AACnB;GA3BwB;;QACiB,qHAAA,CAAA,UAAO;;;KADxB","debugId":null}}]
}